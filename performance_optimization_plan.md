# パフォーマンス最適化計画

## 現在の問題
- FPS: 40-45 (目標60)
- 描画時間: 10-25ms (目標5-8ms)
- フレーム時間: 20-25ms (目標16.7ms)

## 最適化案

### 1. 描画バッチング（優先度：高）
- エンティティの個別blit()を統合
- タイプ別にサーフェスをまとめて描画
- 距離ソートによる描画順最適化

### 2. 視錐台カリング強化（優先度：高）
- より厳密な画面外カリング
- 距離による詳細度調整（LOD）
- 画面外エネミー描画の完全停止

### 3. サーフェス描画最適化（優先度：中）
- pygame.SRCALPHA使用の最小化
- サーフェスの再利用とプール化
- convert_alpha()の積極活用

### 4. 更新頻度調整（優先度：中）
- エンティティの更新間隔調整
- 重要度による更新頻度分離
- アニメーション計算の軽量化

### 5. スケーリング最適化（優先度：低）
- 固定スケール時のキャッシュ改良
- ハードウェア支援スケーリング検討

## 実装順序
1. 視錐台カリング強化
2. 描画バッチング
3. サーフェス最適化
4. 更新頻度調整